@model OutilEnquete.ViewModels.QuestionnaireViewModel

@{
    ViewBag.Title = Model.TitreQuestionnaire;
}

@section Scripts
{
    <script type="text/javascript">
        $(function() {
            $('.datepicker').datepicker({format: 'mm/dd/yyyy'});

            $(document).on('click', 'a[data-toggle=comment]', function() {
                var id = $(this).attr('href');
                $(id).toggle();
                return false;
            });
        });
    </script>
}

<div class="page-header">
    <h3>@ViewBag.Title</h3>
</div>

<form action="@Url.Action("Create", "Responses", new {QuestionnaireId = Request["surveyId"]})" method="post">
    <div class="well well-small">
        <h4>Questions</h4>
    </div>
    <ul class="unstyled bordered skip-first">
        @foreach (var question in Model.Questions)
        {
            <li class="row">
                <div class="span9">
                    <input type="hidden" name="Reponses.Index" value="@question.IdQuestion" />
                    <input type="hidden" name="Reponses[@question.IdQuestion].QuestionId" value="@question.IdQuestion" />
                    @Html.Raw(question.Libelle)
                </div>
                <div class="span3">
                    @if (question.TypeReponse == "Oui/Non")
                    {
                        <select class="span3" name="Answers[@question.IdQuestion].Value">
                            <option disabled selected>Select a value...</option>
                            <option>Yes</option>
                            <option>No</option>
                        </select>
                        @if (question.Libelle == " b" || question.Libelle == "a")
                        {  
                            @Url.Action()
                        
                        }
                    }
                    @if (question.TypeReponse == "Number")
                    {
                        <input class="span3" type="text" name="Answers[@question.IdQuestion].Value" placeholder="Enter a number..." />
                    }

                    @if (question.TypeReponse == "Int" && question.TypeChamp == "radio")
                    {
                        <input class="span3" type="Radio" name="Answers[@question.IdQuestion].Value" placeholder="Choissisez un valeur..." />
                        <fieldset>
                            <legend>What is Your Favorite Pet?</legend>
                            <input type="radio" name="Valeur" value="1">1<br>
                            <input type="radio" name="Valeur" value="2">2<br>
                            <input type="radio" name="Valeur" value="3">3<br>
                            <input type="radio" name="Valeur" value="4">4<br>
                            <input type="radio" name="Valeur" value="5">5<br>
                            <input type="radio" name="Valeur" value="6">6<br>
                            <input type="radio" name="Valeur" value="7">7<br>
                            <input type="radio" name="Valeur" value="8">8<br>
                            <input type="radio" name="Valeur" value="9">9<br>
                            <input type="radio" name="Valeur" value="10">10<br>
                            <br>
                            <input type="submit" value="Submit now">
                        </fieldset>
                    }

                    @if (question.TypeReponse == "Number")
                    {
                        <input class="span3" type="text" name="Answers[@question.IdQuestion].Value" placeholder="Enter a number..." />
                    }
                    <textarea id="@("comment" + question.Id)" class="span3 hide" name="Answers[@question.Id].Comment" placeholder="Comments..."></textarea>
                    <a href="@("#comment" + @question.Id)" data-toggle="comment"><small>Show/Hide Comment</small></a>
                </div>
            </li>
        }
    </ul>
    
    <div class="form-actions">
        <button class="btn btn-inverse pull-right" name="action" value="Next">
            Save and Enter Another
        </button>
        <input class="btn btn-primary" type="submit" name="action" value="Save" />
        <a class="btn" href="@Url.Action("Index", "Home")">Cancel</a>
    </div>
</form>